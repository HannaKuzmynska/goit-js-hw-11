{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const API_KEY = '44418472-b0d967fab2ad788a724b3e426';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport async function fetchImages(query, page = 1) {\n    const url = `${BASE_URL}?key=${API_KEY}&q=${encodeURIComponent(query)}&image_type=photo&orientation=horizontal&safesearch=true&page=${page}`;\n\n    console.log('Fetching images with URL:', url);\n\n    try {\n        const response = await fetch(url);\n        console.log('Response status:', response.status);\n        if (!response.ok) {\n            throw new Error('Network response was not ok');\n        }\n        const data = await response.json();\n        console.log('Fetched data:', data);\n        return data.hits;\n    } catch (error) {\n        console.error('Error fetching images:', error);\n        return [];\n    }\n}","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nexport function renderGallery(images) {\n    const gallery = document.querySelector('.gallery');\n    gallery.innerHTML = '';\n\n    const galleryItems = images.map(image => {\n        return `\n        <div class=\"gallery-box\">\n            <a href=\"${image.largeImageURL}\" class=\"gallery-item\">\n                <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" class=\"img\"/>\n                </a>\n                <div class=\"info\">\n                    <div class=\"stats\">\n                    <div class=\"info-box>\n                        <p class=\"info-header\">Likes:</p>\n                        <p class=\"info-numbers\">${image.likes}</p>\n                        </div>\n                        <div class=\"info-box>\n                        <p class=\"info-header\">Views:</p>\n                        <p class=\"info-numbers\">${image.views}</p>\n                        </div>\n                        <div class=\"info-box>\n                        <p class=\"info-header\">Comments:</p>\n                        <p class=\"info-numbers\">${image.comments}</p>\n                        </div>\n                        <div class=\"info-box>\n                        <p class=\"info-header\">Downloads:</p>\n                        <p class=\"info-numbers\">${image.downloads}</p>\n                        </div>\n                    </div>\n                </div>\n                </div>\n            \n        `;\n    }).join('');\n\n    gallery.insertAdjacentHTML('beforeend', galleryItems);\n\n    const lightbox = new SimpleLightbox('.gallery a');\n    lightbox.refresh();\n}\n\nexport function appendToGallery(images) {\n    const gallery = document.querySelector('.gallery');\n\n    const galleryItems = images.map(image => {\n        return `\n           <div class=\"gallery-box\">\n            <a href=\"${image.largeImageURL}\" class=\"gallery-item\">\n                <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" width=\"400\" height=\"280\"/>\n                </a>\n                <div class=\"info\">\n                    <div class=\"stats\">\n                    <div class=\"info-box>\n                        <p class=\"info-header\">Likes:</p>\n                        <p class=\"info-numbers\">${image.likes}</p>\n                        </div>\n                        <div class=\"info-box>\n                        <p class=\"info-header\">Views:</p>\n                        <p class=\"info-numbers\">${image.views}</p>\n                        </div>\n                        <div class=\"info-box>\n                        <p class=\"info-header\">Comments:</p>\n                        <p class=\"info-numbers\">${image.comments}</p>\n                        </div>\n                        <div class=\"info-box>\n                        <p class=\"info-header\">Downloads:</p>\n                        <p class=\"info-numbers\">${image.downloads}</p>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        `;\n    }).join('');\n\n    gallery.insertAdjacentHTML('beforeend', galleryItems);\n\n    const lightbox = new SimpleLightbox('.gallery a');\n    lightbox.refresh();\n}\n\nexport function showMessage(message) {\n    iziToast.error({\n        title: 'Error',\n        message: message,\n        position: 'topRight',\n    });\n}\n\nexport function showLoader() {\n    document.querySelector('.loader').classList.remove('hidden');\n}\n\nexport function hideLoader() {\n    document.querySelector('.loader').classList.add('hidden');\n}","import './css/styles.css';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport iziToast from 'izitoast';\nimport { fetchImages } from './js/pixabay-api';\nimport { renderGallery, appendToGallery, showMessage, showLoader, hideLoader } from './js/render-functions';\n\nlet currentPage = 1;\nlet currentQuery = '';\n\ndocument.querySelector('#search-form').addEventListener('submit', async (event) => {\n    event.preventDefault();\n\n    const queryInput = event.target.elements.query;\n    currentQuery = queryInput.value.trim();\n    currentPage = 1;\n\n    if (!currentQuery) {\n        showMessage('Please enter a search query.');\n        return;\n    }\n\n    showLoader();\n    const images = await fetchImages(currentQuery, currentPage);\n    hideLoader();\n\n    if (images.length === 0) {\n        showMessage('Sorry, there are no images matching your search query. Please try again!');\n    } else {\n        renderGallery(images);\n        document.querySelector('#load-more').classList.remove('hidden');\n    }\n\n    queryInput.value = '';\n});\n\ndocument.querySelector('#load-more').addEventListener('click', async () => {\n    currentPage += 1;\n\n    showLoader();\n    const images = await fetchImages(currentQuery, currentPage);\n    hideLoader();\n\n    if (images.length === 0) {\n        showMessage('No more images found.');\n        document.querySelector('#load-more').classList.add('hidden');\n    } else {\n        appendToGallery(images);\n    }\n});"],"names":["API_KEY","BASE_URL","fetchImages","query","page","url","response","data","error","renderGallery","images","gallery","galleryItems","image","SimpleLightbox","appendToGallery","showMessage","message","iziToast","showLoader","hideLoader","currentPage","currentQuery","event","queryInput"],"mappings":"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"}